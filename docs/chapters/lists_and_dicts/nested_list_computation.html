<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js rust">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Nested list computations - Introduction to Programming 2 - DRAFT</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../css/pyscript.css">

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../chapters/intro.html">Introduction</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../chapters/review/dudraw_animation.html">Review of animation with dudraw</a></li></ol></li><li class="chapter-item expanded "><a href="../../chapters/lists_and_dicts/lists_and_dicts_chapter.html">Lists and Dictionaries</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../chapters/lists_and_dicts/lists.html">Python lists</a></li><li class="chapter-item expanded "><a href="../../chapters/lists_and_dicts/dictionary.html">Python dictionaries</a></li><li class="chapter-item expanded "><a href="../../chapters/lists_and_dicts/list_comprehension.html">List comprehension</a></li><li class="chapter-item expanded "><a href="../../chapters/lists_and_dicts/2DLists.html">Nested lists (2D lists)</a></li><li class="chapter-item expanded "><a href="../../chapters/lists_and_dicts/nested_data_structures.html">Nested data structures</a></li><li class="chapter-item expanded "><a href="../../chapters/lists_and_dicts/traversing_nested_lists.html">Traversing nested lists</a></li><li class="chapter-item expanded "><a href="../../chapters/lists_and_dicts/nested_list_computation.html" class="active">Nested list computations</a></li></ol></li><li class="chapter-item expanded "><a href="../../chapters/functions/functions_chapter.html">Functions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../chapters/functions/functions.html">User-defined functions</a></li><li class="chapter-item expanded "><a href="../../chapters/functions/function_arguments.html">Functions that take arguments</a></li><li class="chapter-item expanded "><a href="../../chapters/functions/function_return_values.html">Functions that return a value</a></li><li class="chapter-item expanded "><a href="../../chapters/functions/functions_default_arguments.html">Default values for arguments</a></li><li class="chapter-item expanded "><a href="../../chapters/functions/function_keyword_arguments.html">Keyword arguments</a></li><li class="chapter-item expanded "><a href="../../chapters/functions/experimental_runtime.html">Measuring runtime for functions</a></li><li class="chapter-item expanded "><a href="../../chapters/functions/call_stack.html">Call stack memory diagrams</a></li></ol></li><li class="chapter-item expanded "><a href="../../chapters/classes1/classes_chapter.html">Classes, Part 1</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../chapters/classes1/classes_and_objects.html">Classes, and creating objects</a></li><li class="chapter-item expanded "><a href="../../chapters/classes1/implementing_classes.html">Implementing classes</a></li><li class="chapter-item expanded "><a href="../../chapters/classes1/print_object.html">Output of objects to the terminal</a></li><li class="chapter-item expanded "><a href="../../chapters/classes1/lists_of_objects.html">Lists of objects</a></li><li class="chapter-item expanded "><a href="../../chapters/classes1/complicated_classes.html">More complex classes</a></li><li class="chapter-item expanded "><a href="../../chapters/classes1/class_variables.html">Class variables</a></li></ol></li><li class="chapter-item expanded "><a href="../../chapters/classes2/classes_chapter_pt2.html">Classes, Part 2</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../chapters/classes2/variables_are_references.html">Variables store references to objects</a></li><li class="chapter-item expanded "><a href="../../chapters/classes2/dunder_methods.html">Dunder methods</a></li><li class="chapter-item expanded "><a href="../../chapters/classes2/identity_vs_equality.html">Identity versus equality</a></li><li class="chapter-item expanded "><a href="../../chapters/classes2/memory_diagrams.html">Memory Diagrams of objects</a></li><li class="chapter-item expanded "><a href="../../chapters/classes2/shallow_v_deep_copy.html">Shallow copy vs. deep copy</a></li></ol></li><li class="chapter-item expanded "><a href="../../chapters/inheritance/inheritance_chapter.html">Inheritance</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../chapters/inheritance/inheritance.html">Base classes and derived classes</a></li><li class="chapter-item expanded "><a href="../../chapters/inheritance/method_overriding.html">Overriding methods</a></li><li class="chapter-item expanded "><a href="../../chapters/inheritance/polymorphism.html">Polymorphism</a></li><li class="chapter-item expanded "><a href="../../chapters/inheritance/type_and_isinstance.html">Type and isinstance</a></li><li class="chapter-item expanded "><a href="../../chapters/inheritance/is_a_versus_has_a.html">Inheritance vs. composition</a></li><li class="chapter-item expanded "><a href="../../chapters/inheritance/multilevel.html">Multilevel inheritance</a></li></ol></li><li class="chapter-item expanded "><a href="../../chapters/recursion/recursion_chapter.html">Recursion</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../chapters/recursion/recursion.html">Recursive functions</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Introduction to Programming 2 - DRAFT</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="computation-traversing-nested-lists"><a class="header" href="#computation-traversing-nested-lists">Computation traversing nested lists</a></h1>
<p>If we have a 2D list of numbers, we might be interested in doing computations on the numbers in the list.</p>
<ul>
<li>We can compute the sum, maximum, or average of all elements in the 2D list.</li>
<li>We can compute the sum, maximum, or average of a specific row.</li>
<li>We can compute the sum,  max/min, or average of a specific column.</li>
<li>We can compute the sum, max/min, or average of each row.</li>
<li>We can compute the sum,  max/min, or average of each column</li>
</ul>
<p>The code needed to compute each of these differs in subtle, but very important ways.
We'll demonstrate this with an example.</p>
<p>Suppose we have a table of quiz scores for students in a course.</p>
<div class="table-wrapper"><table><thead><tr><th>Student</th><th>Quiz 1</th><th>Quiz 2</th><th>Quiz 3</th><th>Quiz 4</th></tr></thead><tbody>
<tr><td>Student 1</td><td>78</td><td>83</td><td>62</td><td>91</td></tr>
<tr><td>Student 2</td><td>93</td><td>69</td><td>88</td><td>72</td></tr>
<tr><td>Student 3</td><td>75</td><td>82</td><td>78</td><td>83</td></tr>
</tbody></table>
</div>
<p>The scores are stored in this 2D list:</p>
<pre><code class="language-python">scores = [
    [78, 83, 62, 91],
    [93, 69, 88, 72],
    [75, 82, 78, 83],
]
</code></pre>
<h3 id="compute-a-quantity-for-the-entire-2d-list"><a class="header" href="#compute-a-quantity-for-the-entire-2d-list">Compute a quantity for the entire 2D list</a></h3>
<p>Sometimes we want to compute a quantity using all 12 elements in the 3x4 matrix. This requires us to traverse through every element
in the 2D list. We've seen previously multiple ways to do this (index-based traversal, content-based traversal, or using <code>enumerate()</code>).
We review the process with the code below, which finds the maximum value of all 12 scores in the 2D list, using index-based loops.
Notice that in this code block, the outer loop iterates over each row index, while the inner loop iterates over each column index.
This means that we visit each list element in row-major order. In other words, we first traverse every element in the first row, then every element
in the second row, then every element in the third row.
Detail: <code>len(scores)</code> gives the number of rows, while <code>len(scores(row_index))</code> gives the number of columns in a specific row.</p>
<pre><code class="language-python"># Maximum value of all scores in the 2D list.
# In the outer loop, have the row index vary through index values 0, 1, 2, 
# and in the inner loop, have the column index vary through index values 0, 1, 2, 3.
# Before beginning, initialize the maximum to be the first score in the first list.
maximum = scores[0][0]
for row_index in range(0, len(scores)):
    for column_index in range(0, len(scores[row_index])):
        if scores[row_index][column_index] &gt; maximum:
            maximum = scores[row_index][column_index]
print(maximum) # outputs 93
</code></pre>
<p>Notice that the given 2D list is rectangular, not jagged. In other words, each row has the same number of columns.
In this situation, we can actually reverse the order of the loops. In other words, the outer loop can vary over each of the column
indexes 0, 1, 2, 3, while the inner loop varies over each row index 0, 1, 2. Reversing the order of the loops results in us visiting the
list elements in column-major order. So we first traverse every element in the first column, then every element in the second column,
then every element in the third column, and finally every element in the fourth column. Since we are finding a result that treats every
element in the matrix equally, it's fine to switch the order. Detail: <code>len(scores)</code> gives the number of rows. But one quirk of the
column-major ordering is that the number of elements in each column must be the same. 
For the number of columns, we will just use the number of columns in the first row, <code>len(scores[0])</code>.</p>
<pre><code class="language-python"># Maximum value of all scores in the 2D list, computed in column-major order.
# In the outer loop, have the column index vary through index values 0, 1, 2, 3
# and in the inner loop, have the row index vary through index values 0, 1, 2.
# Before beginning, initialize the maximum to be the first score in the first list.
maximum = scores[0][0]
for column_index in range(0, len(scores[0])):
    for row_index in range(0, len(scores)):
        if scores[row_index][column_index] &gt; maximum:
            maximum = scores[row_index][column_index]
print(maximum) # outputs 93
</code></pre>
<h3 id="compute-a-quantity-for-a-single-row"><a class="header" href="#compute-a-quantity-for-a-single-row">Compute a quantity for a single row</a></h3>
<p>If we want to calculate a quantity just for a single row, we do not need a nested loop.
Since the row index never changes, we allow the column index to traverse all possible columns with a single for loop.
This means that the <code>column_index</code> will vary from 0 to <code>len(scores[row_index])-1</code> 
(the number of columns is <code>len(scores[row_index])</code>).
The code below calculates the average of Student 3's scores.</p>
<pre><code class="language-python"># Average score for student 3. The row_index of 2 doesn't change.
# The column_index varies from 0 to 3. Add up all four scores, then
# divide by the number of columns (the number of scores).
total = 0
for column_index in range(0, len(scores[2])):
    total += scores[2][column_index]
average = total/len(scores[2])
print(average) # outputs 79.5
</code></pre>
<h3 id="compute-a-quantity-for-a-single-column"><a class="header" href="#compute-a-quantity-for-a-single-column">Compute a quantity for a single column</a></h3>
<p>If we now want calculate a quantity for only one specific column, there is similarly no need for a nested loop.
Instead, the column index never changes, but the row index traverses over all possible rows.
This means that the <code>row_index</code> will vary from 0 to <code>len[scores]-1</code> (the number of rows is <code>len[scores])</code>.
The code below calculates the average of all students on Quiz 4.</p>
<pre><code class="language-python"># Average score of all students on Quiz 4. The column_index of 3 doesn't change.
# The row_index varies from 0 to 2. Add up all 3 scores, then divide
# by the number of rows (the number of students)
total = 0
for row_index in range(0, len(scores)):
    total += scores[row_index][3]
average = total/len(scores)
print(average) # outputs 82.0
</code></pre>
<h3 id="compute-a-quantity-for-every-row-individually"><a class="header" href="#compute-a-quantity-for-every-row-individually">Compute a quantity for every row individually</a></h3>
<p>Say we want to calculate a quantity for every row separately. Since we're finding the quantity for each row, and
the quantity requires us to look at every column, we'll need to examine every value in the matrix.
This means we must use nested for-loops. 
Since we are calculating a quantity row-wise, the outside loop <em>must</em> vary throughout the rows.
Allow the row_index to vary throughout each row, then in the inner loop compute the quantity for that single row (see two sections above).
The code below finds the average score for each student separately.</p>
<pre><code class="language-python"># Average score for every student. The row_index changes in the outer
# loop. For each row_index, the column_index varies from 0 to 3, through
# each quiz score for that student. Add up all four scores, then
# divide by the number of columns.
for row_index in range(0, len(scores)):
    total = 0
    for column_index in range(0, len(scores[row_index])):
        total += scores[row_index][column_index]
    average = total/len(scores[row_index])
    print(average) # This line is executed 3 times, outputting 78.5, then 80.5, then 79.5
</code></pre>
<p>Since the quantity is being calculated separately for each row, 
notice that the initialization of variables must happen <em>inside</em> the outer loop, but <em>outside</em> the inner loop.
So the initialization <code>total=0</code> is indented, executing as the first line inside the outer loop. That total is reset to 0 for each
student. Notice also that we want to print the result separately for each student. Thus the print statement is indented one level.
The output is executed once for each student, at the end of the computation for that student.</p>
<h3 id="compute-a-quantity-for-every-column-individually"><a class="header" href="#compute-a-quantity-for-every-column-individually">Compute a quantity for every column individually</a></h3>
<p>Say we want to calculate a quantity for every column separately. This computation requires us to visit every value in the matrix,
so we must use a nested for-loop. But since we are doing a column-wise computation, the outer loop must vary over each column.
A matrix must be rectangular (not jagged) for this to work. In the outside loop, allow the col_index to vary over every column. 
Then within that loop, compute the quantity you want by looking at the values for each row within that column. This means the inner
loop will vary over every possible row.</p>
<pre><code class="language-python"># Minimum score for each quiz. The column_index changes in the outer
# loop. For each column_index, the row_index varies from 0 to 2, through
# each quiz score for that student. Each time we find a score smaller
# than we've seen yet for that quiz, update the minimum
for column_index in range(0, len(scores[0])):
    # initialize minimum to the first row in this column
    minimum = scores[0][column_index]
    for row_index in range(0, len(scores)):
        if scores[row_index][column_index] &lt; minimum:   
            minimum = scores[row_index][column_index]  
    print(minimum) # This line executes 4 times, outputting 75, then 69, then 62, then 72
</code></pre>
<p>Because we are doing a separate computation for each column, notice that the initialization of <code>minimum</code> happens just inside the outer
for-loop. We initialize <code>minimum</code> to the first student's score on that quiz. Then at the end of the inner loop, the output of the result
is indented one level, so it is output once for each column.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../chapters/lists_and_dicts/traversing_nested_lists.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../chapters/functions/functions_chapter.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../chapters/lists_and_dicts/traversing_nested_lists.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../chapters/functions/functions_chapter.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>

        <script src="../../ace.js"></script>
        <script src="../../editor.js"></script>
        <script src="../../mode-rust.js"></script>
        <script src="../../theme-dawn.js"></script>
        <script src="../../theme-tomorrow_night.js"></script>

        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../js/disable_keyboard.js"></script>


    </div>
    </body>
</html>
